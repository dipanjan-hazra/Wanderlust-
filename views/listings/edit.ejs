<% layout('layouts/boilerplate') %>

<body>
    <div class="row mt-3">
        <div class="col-8 offset-2">
               <h2> Edit Listing</h2>
    <hr>
    <form method="post" action="/listings/<%=listing_data._id%>?_method=PUT" class="needs-validation" novalidate enctype="multipart/form-data">
        <div class="mb3">
                <label for="title" class="form-label">Title</label>
                <input type="text" name="listings[title]"class="form-control" value="<%= listing_data.title %>" required>
        
            <div class="valid-feedback">Title look good</div>
            <div class="invalid-feedback">Title required</div>
            </div>
        
       <div class="mb-3">
             <label for="Description" class="form-label">Description</label>
             <textarea name="listings[description]" class="form-control" required><%= listing_data.description%></textarea>
             <div class="valid-feedback">Description Done </div>
            <div class="invalid-feedback">Please give  a small description </div>
            </div>
            <!-- Show image on  edit page -->
             <div  class="mb-3 card show-card listing-card">
                original image 
               <img src="<%= org_img %>" class="card-img-top show-img" >

             </div>
       <div class="mb-3">
              <label for="Image" class="form-label">Upload New image</label>
           <input name="listings[image]" type="file" class="form-control">
        </div>
         <div class="row">
            <div class="mb-3 col-md-4">
            <label for="price" class="form-label">price</label>
             <input type="number" name="listings[price]" value="<%= listing_data.price%>"class="form-control" required>
                
                      <div class="valid-feedback">Price Done</div>
            <div class="invalid-feedback">Give a valid price</div>
            </div>

             <div class="mb-3 col-md-4 ">
            <label for="location" class="form-label">location</label>
            <input type="text" name="listings[location]"  value="<%= listing_data.location %>"class="form-control" required>
            <div class="valid-feedback">New location Done</div>
            <div class="invalid-feedback">Give aqurate location</div>
            </div>
         </div>
       
       

     <div class="row">
   <div class="mb-3 col-md-4">
        <label for="country" class="form-label"> country </label>
         <input type="text" name="listings[country]" pattern="[A-Za-z\s]+" title="Only letters allowed"  value="<%= listing_data.country %>"class="form-control">
    </div>
   <div class="mb-3 col-md-8">
  <label for="filter" class="form-label">Choose Type according to your place</label>

  <select id="filter" name="listings[filter]" class="form-control line-input" required>
    <option value="" disabled selected>Select here</option>

    <option value="trending" <%= listing_data.filter === 'trending' ? 'selected' : '' %>>Trending</option>
    <option value="room" <%= listing_data.filter === 'room' ? 'selected' : '' %>>Room</option>
    <option value="iconic-cities" <%= listing_data.filter === 'iconic-cities' ? 'selected' : '' %>>Iconic Cities</option>
    <option value="mountains" <%= listing_data.filter === 'mountains' ? 'selected' : '' %>>Mountains</option>
    <option value="entertainment" <%= listing_data.filter === 'entertainment' ? 'selected' : '' %>>Entertainment</option>
    <option value="lakefront" <%= listing_data.filter === 'lakefront' ? 'selected' : '' %>>Lakefront</option>
    <option value="beach" <%= listing_data.filter === 'beach' ? 'selected' : '' %>>Beach</option>
    <option value="temple" <%= listing_data.filter === 'temple' ? 'selected' : '' %>>Temple</option>
    <option value="castles" <%= listing_data.filter === 'castles' ? 'selected' : '' %>>Castles</option>
    <option value="restaurants" <%= listing_data.filter === 'restaurants' ? 'selected' : '' %>>Restaurants</option>
    <option value="adventure" <%= listing_data.filter === 'adventure' ? 'selected' : '' %>>Adventure</option>
    <option value="five-star" <%= listing_data.filter === 'five-star' ? 'selected' : '' %>>Five Star</option>

  </select>

  <div class="invalid-feedback">Please select a type</div>
</div>

  </div>
  </div>

       
        
        <button class="btn btn-dark btn-save mt-3" >Save</button>
    </form> 
    </div>
</div>
</body>
